| Author      | Created on  | Version    | Last updated by | Last edited on |
|-------------|-------------|------------|-----------------|----------------|
| Rajeev Ranjan    | 15-04-25    | version 1  | Rajeev Ranjan        |        |
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  
</head>
<body>

  <h1>Standard Operating Procedure (SOP) for Poetry</h1>
  <p>Covering project setup, dependency management, virtual environments, and command execution:</p>

  <h2>Table of Contents</h2>
  <ul>
    <li><a href="#Installing Poetry">Installing Poetry</a></li>
    <li><a href="#Creating a New Project">Creating a New Project</a></li>
    <li><a href="#Managing Dependencies">Managing Dependencies</a></li>
    <li><a href="#Virtual Environment Management"> Virtual Environment Management</a></li>
    <li><a href="#Running Commands in Context">Running Commands in Context</a></li>
    <li><a href="#Building & Publishing"> Building & Publishing</a></li>
    <li><a href="#Configuration (Optional)">  Configuration (Optional)</a></li>
    <li><a href="#Best Practices"> Best Practices</a></li>
    <li><a href="#Troubleshooting"> Troubleshooting</a></li>
    <li><a href="#Contact Information">Contact Information </a></li>
    <li><a href="#References"> References</a></li>
    


  <hr>

   <h2 id="Installing Poetry">Installing Poetry</h2>
  <pre><code># Official install (Unix/macOS)
curl -sSL https://install.python-poetry.org | python3 -

# Windows (PowerShell)
(Invoke-WebRequest -Uri https://install.python-poetry.org -UseBasicParsing).Content | python -

# Verify installation
poetry --version
</code></pre>

  <hr>

  <h2 id="Creating a New Project">Creating a New Project</h2>
  <pre><code># Create a new project (interactive)
poetry new poetry-demo



<p>This will create the poetry-demo directory with the following content:</p>

poetry-demo
├── pyproject.toml
├── README.md
├── src
│   └── poetry_demo
│       └── __init__.py
└── tests
    └── __init__.py





# Create with a specific Python version
poetry env use python3.9  # Optional upfront

# Initialize Poetry in an existing project
cd existing-project
poetry init  # Follow prompts
</code></pre>

  <hr>

  <h2 id="Managing Dependencies">Managing Dependencies</h2>
  <pre><code># Add a dependency
poetry add &lt;package&gt;  # e.g., poetry add numpy

# Add development dependency
poetry add --group dev &lt;package&gt;  # e.g., poetry add --group dev pytest

# Remove a dependency
poetry remove &lt;package&gt;

# Update dependencies
poetry update  # All packages
poetry update &lt;package&gt;  # Specific package

# List installed packages
poetry show --tree
</code></pre>

  <hr>

   <h2 id="Virtual Environment Management">Virtual Environment Management</h2>
  <pre><code># Create/use a virtualenv (auto-generated by default)
poetry install  # Creates venv if missing, installs deps

# Activate the virtualenv
poetry shell

# Deactivate (inside the shell)
exit

# List virtualenvs
poetry env list

# Remove a virtualenv
poetry env remove &lt;python-version|name&gt;
</code></pre>

  <hr>

  <h2 id="Running Commands in Context">Running Commands in Context</h2>
  <pre><code># Run a script in the Poetry environment
poetry run python script.py

# Execute one-off commands (e.g., pytest)
poetry run pytest

# Run with environment variables
poetry run env VAR=value python script.py
</code></pre>

  <hr>

  <h2 id="Building & Publishing">Building & Publishing</h2>
  <pre><code># Build the project
poetry build  # Creates dist/ files

# Publish to PyPI (requires credentials)
poetry publish  # Add --repository &lt;repo-name&gt; for private repos
</code></pre>

  <hr>

  <h2 id="Configuration (Optional)">Configuration (Optional)</h2>
  <pre><code># Disable virtualenv creation (global)
poetry config virtualenvs.create false

# Change virtualenvs path
poetry config virtualenvs.path /path/to/venvs
</code></pre>

  <hr>

  <h2 id="Best Practices">Best Practices</h2>
  <ul>
    <li><strong><code>pyproject.toml</code></strong>: Always edit this file manually for complex configurations (e.g., scripts, classifiers).</li>
    <li><strong>Lockfile</strong>: Commit <code>poetry.lock</code> to ensure reproducible builds.</li>
    <li><strong>CI/CD</strong>: Use <code>poetry install --no-dev</code> in production environments.</li>
  </ul>

  <hr>

  <h2 id="Troubleshooting">Troubleshooting</h2>
  <ul>
    <li><strong>"Project not initialized"</strong>: Run <code>poetry init</code> in the project root.</li>
    <li><strong>Dependency conflicts</strong>: Use <code>poetry update</code> or manually resolve in <code>pyproject.toml</code>.</li>
    <li><strong>"SSL certificate errors"</strong>: <code>poetry config certificates.<repo>.cert /path/to/cert.pem</code></li>
    <li><strong>"Virtualenv not detected"</strong>: Run <code>poetry env use python3.x</code>explicitly..</li>
  </ul>

  <hr>

  <p>This SOP ensures consistent usage of Poetry across development, testing, and deployment workflows. Adjust Python/package names as needed.</p>

</body>
</html>

## <h2 id="Contact Information">Contact Information</h2>
| Name         | Email address          |
|--------------|------------------------|
| Rajeev Ranjan          |     rajeevsunny05@gmail.com |

## <h2 id="References">References</h2>
| Links                                             | Descriptions                                                    |
|---------------------------------------------------|-----------------------------------------------------------------|
| https://python-poetry.org/docs/ | Document format followed from this link                         |


