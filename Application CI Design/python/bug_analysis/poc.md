# Bug Analysis in Python | POC
## Description of this POC 


| Author      | Created on  | Version    | Last updated by | Last edited on | Internal reviewer |   L0     |    L1     |    L2   |
|-------------|-------------|------------|-----------------|----------------|-------------------|----------|-----------|-----------|
| Rajeev Ranjan    |     | version 1  | N/A        |     N/A   |     Priyanshu         | Khushi Malhotra  | Mukul Joshi     | Piyush Upadhyay  | 


## Table of Contents
- [Introduction](#introduction)
- [Prerequisites](#prerequisites)
- [Getting Started](#getting-started)
- [Conclusion](#conclusion)
- [Contacts](#contacts)
- [References](#references)

## Introduction
Sonar has been utilized to provide comprehensive insights in the process of analyzing bugs within our attendance API. This document outlines our approach to bug analysis using Sonar and Jenkins.

## Prerequisites

|SOFTWARE|	VERSION|
|----|---------------|
|Python|  3.11.12 |
| SonarQube | 10.4.1.88267  |


## Getting Started

# Bug Analysis Steps By Using Sonar
## Installation Steps
Follow the detailed guide here:  
[Installing and Configuring SonarQube](https://medium.com/@sugam.arora23/installing-and-configuring-sonarqube-on-aws-ec2-a-step-by-step-guide-defd8955eb30)
## Integrate jenkins with sonarqube

- To integrate jenkins with SonarQube read this [BLOG](https://sunilhari.medium.com/how-to-integrate-sonarqube-and-jenkins-721d5efd3cb6)
- If you want the pipeline to act according to the status of the Quality Gate, you also need to configure a webhook in SonarQube. For that, refer to this [BLOG.](https://tomgregory.com/jenkins/sonarqube-quality-gates-in-jenkins-build-pipeline/)

## Create project in SonarQube

Set up your project in SonarQube by creating it within the SonarQube interface, providing essential details such as project key, name, and version. Next, utilize the Scripted Pipeline generated by SonarQube to seamlessly integrate code analysis and quality checks into your Jenkins pipeline.

### Integrating SonarQube with Jenkins

To integrate SonarQube with Jenkins, follow these steps:

#### Install SonarQube Scanner Plugin in Jenkins

**Open Jenkins:**
Open your Jenkins instance in a web browser.

**Navigate to Plugin Manager:**
Go to `Manage Jenkins` > `Manage Plugins`.

**Install SonarQube Scanner Plugin:**
- Go to the `Available` tab.
- Search for "SonarQube Scanner".
- Select the checkbox next to the plugin and click `Install without restart`.
![Screenshot 2025-05-15 141032](https://github.com/user-attachments/assets/b0ec2f08-3a6f-406f-ba79-a8d3be1df766)



#### Configure SonarQube in Jenkins

**Go to Global Tool Configuration:**
Navigate to `Manage Jenkins` > `Global Tool Configuration`.

**Configure SonarQube Scanner:**
- Scroll down to the `SonarQube Scanner` section.
- Click `Add SonarQube Scanner`.
- Provide a name for the Scanner (e.g., `SonarQube Scanner`).
- Specify the installation method:
  - If you have already installed the scanner, provide the path to the executable.
  - Alternatively, let Jenkins install the scanner automatically by selecting the appropriate option.




**Configure SonarQube Servers:**
- Go to `Manage Jenkins` > `Configure System`.
- Scroll down to the `SonarQube Servers` section.
- Click `Add SonarQube` and provide the following details:
  - **Name:** (e.g., `SonarQube`)
  - **Server URL:** `http://localhost:9000` (or your SonarQube server URL)
  - **Server Authentication Token:**
    - Click `Add` under `Server Authentication Tokens`.
    - Add the token generated from your SonarQube instance.
  - Click `Save` to apply the changes.

![Screenshot 2025-05-15 140044](https://github.com/user-attachments/assets/250171f6-81fc-4a17-af3d-f31a954f0379)



![Screenshot 2025-05-15 140135](https://github.com/user-attachments/assets/2aaf9f75-f90e-482b-a9b9-0a5d0e6879a4)




#### Configure Jenkins Job for SonarQube Analysis

**Create a New Jenkins Job:**
- Click `New Item`.
- Enter a name for the job and select `Freestyle project`.
- Click `OK`.

**Configure Source Code Management:**
- In the `Source Code Management` section, select `Git`.
- Enter the repository URL (e.g., `https://github.com/OT-MICROSERVICES/attendance-api`).
- Provide the credentials if required.

**Add Build Step for SonarQube Analysis:**
- In the `Build` section, click `Add build step`.
- Select `Execute SonarQube Scanner`.

**Provide SonarQube Project Properties:**
- In the `Execute SonarQube Scanner` section, provide the path to the `sonar-project.properties` file if it exists.
- Alternatively, provide the project properties directly in the `Analysis properties` field:
  ```properties
  sonar.projectKey=attendance-api
  sonar.sources=.
  sonar.host.url=http://localhost:9000
  sonar.login=your_sonarqube_token


## Report

![Screenshot 2025-05-15 140302](https://github.com/user-attachments/assets/8464c533-53c4-42bf-8cd6-0628c4aa5b49)

![Screenshot 2025-05-15 140319](https://github.com/user-attachments/assets/c1fea408-5ac1-400d-9849-788a6443fbd9)



 ## **Report Link** 
| Link         | Description         |
|--------------|------------------------|
| [Bug Analysis](https://github.com/avengers-p11/Documentation/blob/main/Application%20CI%20Design/Python%20CI%20Checks/Bug%20Analysis/analyses.pb)| Report |
#


## Conclusion
After conducting bug analysis using SonarQube, it is evident that SonarQube provides a comprehensive overview of code quality, including bugs, code smells, and vulnerabilities. SonarQube's extensive rule set and its ability to integrate with continuous integration pipelines make it a robust tool for maintaining and improving code quality. Therefore, I think it's a good idea to adopt SonarQube as the primary tool for bug analysis in our attendance API to enhance our code's quality and maintainability.


## Contacts

| Name| Email Address      |
|-----|--------------------------|
| Rajeev Ranjan          |     rajeev.rajan.snaatak@mygurukulam.co |


## References

| Link                                                                                                      | Description                          |
|-----------------------------------------------------------------------------------------------------------|--------------------------------------|
| [Attendance API Repository](https://github.com/OT-MICROSERVICES/attendance-api)                           | Attendance API Repository            |
| [SonarQube Documentation](https://docs.sonarqube.org/latest/)                                             | SonarQube Documentation              |

